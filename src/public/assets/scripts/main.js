!function(e){var t={};function r(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(s,n,function(t){return e[t]}.bind(null,n));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=0)}({0:function(e,t,r){r("Or9D"),e.exports=r("zcrr")},"KHd+":function(e,t,r){"use strict";function s(e,t,r,s,n,a,i,o){var l,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=r,u._compiled=!0),s&&(u.functional=!0),a&&(u._scopeId="data-v-"+a),i?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=l):n&&(l=o?function(){n.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:n),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,l):[l]}return{exports:e,options:u}}r.d(t,"a",(function(){return s}))},Or9D:function(e,t,r){"use strict";r.r(t);var s=biigle.$require("messages").handleErrorResponse,n=biigle.$require("labelTrees.components.labelTrees"),a={mixins:[biigle.$require("core.mixins.loader")],components:{labelTrees:n},data:function(){return{allowedOptions:{},selectedType:"",selectedVariant:"",reportTypes:[],labelTrees:[],hasOnlyLabels:!1,success:!1,errors:{},options:{export_area:!1,newest_label:!1,separate_label_trees:!1,separate_users:!1,only_labels:[],aggregate_child_labels:!1}}},computed:{flatLabels:function(){var e=[];return this.labelTrees.forEach((function(t){Array.prototype.push.apply(e,t.labels)})),e},selectedLabels:function(){return this.flatLabels.filter((function(e){return e.selected}))},selectedLabelsCount:function(){return this.selectedLabels.length},variants:function(){var e={};return this.reportTypes.forEach((function(t){var r=t.name.split("\\");e.hasOwnProperty(r[0])||(e[r[0]]=[]),e[r[0]].push(r[1])})),e},availableReportTypes:function(){var e={};return this.reportTypes.forEach((function(t){e[t.name]=t.id})),e},selectedReportTypeId:function(){return this.availableReportTypes[this.selectedType+"\\"+this.selectedVariant]},availableVariants:function(){return this.variants[this.selectedType]},onlyOneAvailableVariant:function(){return 1===this.availableVariants.length},selectedOptions:function(){var e=this,t={};return this.allowedOptions[this.selectedType].forEach((function(r){t[r]=e.options[r]})),t.type_id=this.selectedReportTypeId,t}},methods:{request:function(e,t){this.loading||(this.success=!1,this.startLoading(),t.save({id:e},this.selectedOptions).then(this.submitted,this.handleError).finally(this.finishLoading))},submitted:function(){this.success=!0,this.errors={}},handleError:function(e){422===e.status?e.data.hasOwnProperty("errors")?this.errors=e.data.errors:this.errors=e.data:s(e)},selectType:function(e){this.selectedType=e,-1===this.availableVariants.indexOf(this.selectedVariant)&&(this.selectedVariant=this.availableVariants[0])},wantsType:function(e){return this.selectedType===e},wantsVariant:function(e){return Array.isArray(e)?-1!==e.indexOf(this.selectedVariant):this.selectedVariant===e},hasError:function(e){return this.errors.hasOwnProperty(e)},getError:function(e){return this.errors[e]?this.errors[e].join(" "):""},wantsCombination:function(e,t){return this.wantsType(e)&&this.wantsVariant(t)}},watch:{selectedLabels:function(e){this.options.only_labels=e.map((function(e){return e.id}))},hasOnlyLabels:function(e){e||this.flatLabels.forEach((function(e){e.selected=!1}))},"options.separate_label_trees":function(e){e&&(this.options.separate_users=!1)},"options.separate_users":function(e){e&&(this.options.separate_label_trees=!1)}},created:function(){this.reportTypes=biigle.$require("reports.reportTypes"),this.selectedType=Object.keys(this.variants)[0],this.selectedVariant=this.availableVariants[0];var e=biigle.$require("reports.labelTrees");e.forEach((function(e){e.labels.forEach((function(e){e.selected=!1}))})),this.labelTrees=e}},i=r("KHd+"),o=Object(i.a)(a,void 0,void 0,!1,null,null,null).exports,l=Vue.resource("/api/v1/projects{/id}/reports"),u={mixins:[o],data:function(){return{projectId:null,allowedOptions:{ImageAnnotations:["export_area","newest_label","separate_label_trees","separate_users","only_labels","aggregate_child_labels"],ImageLabels:["separate_label_trees","separate_users","only_labels"],VideoAnnotations:["newest_label","separate_label_trees","separate_users","annotation_session_id","only_labels"],VideoLabels:["separate_label_trees","separate_users","only_labels"]}}},methods:{submit:function(){this.request(this.projectId,l)}},created:function(){this.projectId=biigle.$require("reports.projectId")}},c=Object(i.a)(u,void 0,void 0,!1,null,null,null).exports,p=Vue.resource("/api/v1/volumes{/id}/reports"),d={mixins:[o],data:function(){return{allowedOptions:{ImageAnnotations:["export_area","newest_label","separate_label_trees","separate_users","annotation_session_id","only_labels","aggregate_child_labels"],ImageLabels:["separate_label_trees","separate_users","annotation_session_id","only_labels"],VideoAnnotations:["newest_label","separate_label_trees","separate_users","annotation_session_id","only_labels"],VideoLabels:["separate_label_trees","separate_users","annotation_session_id","only_labels"]},options:{annotation_session_id:null}}},methods:{submit:function(){this.request(this.volumeId,p)}},created:function(){this.volumeId=biigle.$require("reports.volumeId")}},f=Object(i.a)(d,void 0,void 0,!1,null,null,null).exports;biigle.$mount("project-report-form",c),biigle.$mount("volume-report-form",f)},zcrr:function(e,t){}});